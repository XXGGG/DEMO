import{d as S,r as w,c as T,a as m,t as f,u as y,o as E,w as W,p as I,b as L,_ as B}from"./index-c995a64a.js";const C=n=>(I("data-v-97517d0c"),n=n(),L(),n),F=C(()=>m("h1",null,"移动这个小方块！",-1)),k=["onMousedown"],H=S({__name:"FollowMouseMove",setup(n){let s=null,c=null,u=null,i=null,r=null,a=0,d=w(0),p=w(0);const M=e=>{c=e.target.clientWidth,u=e.target.clientWidth,s=t=>{i=t.view.innerWidth,r=t.view.innerHeight;let _=t.clientX,g=t.clientY,o=_-e.layerX,l=g-e.layerY;o<0&&(o=0),o>i-c&&(o=i-c),l<0&&(l=0),l>r-u&&(l=r-u),e.target.style.left=o+"px",e.target.style.top=l+"px",d.value=o,p.value=l},window.addEventListener("mousemove",s),a=1},x=()=>{console.log("取消监听"),window.removeEventListener("mousemove",s),a=0},h=()=>{a==1&&(console.log("取消监听"),window.removeEventListener("mousemove",s),a=0)};window.onresize=function(){console.log("窗口变化了！"),h();let e=document.getElementById("box");e.style.left="calc(50% - 50px)",e.style.top="calc(50% - 50px)"};let v=null;const X=e=>{v=t=>{console.log(t.targetTouches[0].pageX),console.log(t.targetTouches[0].pageY),console.log(t);let _=t.targetTouches[0].pageX,g=t.targetTouches[0].pageY,o=_-e.layerX,l=g-e.layerY;e.target.style.left=o+"px",e.target.style.top=l+"px",d.value=o,p.value=l},window.addEventListener("touchmove",v)},Y=()=>{window.removeEventListener("touchmove",v)};return(e,t)=>(E(),T("div",{class:"area",onMouseleave:h},[F,m("div",{id:"box",class:"box",onTouchstart:X,onMousedown:W(M,["left"]),onTouchend:Y,onMouseup:x},null,40,k),m("h1",null,"（ "+f(y(d))+" , "+f(y(p))+" ）",1)],32))}});const b=B(H,[["__scopeId","data-v-97517d0c"]]);export{b as default};
